{"ast":null,"code":"import _classCallCheck from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/joga/Documents/GitHub/reddit-replica/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/joga/Documents/GitHub/reddit-replica/src/containers/Main.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { MenuItem, Navbar, NavbarToggler, NavbarBrand, NavDropdown, Nav, NavItem, FormGroup, FormControl, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, Button, DropdownItem } from 'react-bootstrap';\nimport '../styles/Header.css';\nimport { Link } from 'react-router-dom';\nimport { Route, Redirect } from 'react-router-dom';\nimport { selectSubreddit, selectSort, fetchPostsIfNeeded, invalidateSubreddit, searchPosts } from '../actions/actions';\nimport Data from '../components/Data';\nimport Header from '../components/Header';\nimport Posts from '../containers/Posts';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      menu: '/best',\n      term: '',\n      subreddit: 'best'\n    };\n    _this.handleMenuChange = _this.handleMenuChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRefreshClick = _this.handleRefreshClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSort = _this.handleSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (window.performance) {\n      if (performance.navigation.type == 1) {\n        console.log(\"This is state: \" + _this.state.menu);\n      }\n    }\n\n    _this.recvPosts = {};\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"handleSelect\",\n    value: function handleSelect(eventKey) {\n      if (eventKey == 1) {\n        this.setState({\n          menu: '/best'\n        });\n        this.handleMenuChange('best', \"\");\n      }\n\n      if (eventKey == 2.1) {\n        this.setState({\n          menu: '/worldnews'\n        });\n        this.handleMenuChange('r/worldnews/', 'best');\n      }\n\n      if (eventKey == 2.2) {\n        this.setState({\n          menu: '/politics'\n        });\n        this.handleMenuChange('r/politics/', 'best');\n      }\n\n      if (eventKey == 2.3) {\n        this.setState({\n          menu: '/technology'\n        });\n        this.handleMenuChange('r/technology/', 'best');\n      }\n\n      if (eventKey == 2.4) {\n        this.setState({\n          menu: '/movies'\n        });\n        this.handleMenuChange('r/movies/', 'best');\n      }\n\n      if (eventKey == 2.5) {\n        this.setState({\n          menu: '/gaming'\n        });\n        this.handleMenuChange('r/gaming/', 'best');\n      }\n    }\n  }, {\n    key: \"handleSort\",\n    value: function handleSort(eventKey) {\n      if (this.props.selectedSubreddit == 'best' || this.props.selectedSubreddit == 'hot' || this.props.selectedSubreddit == 'new' || this.props.selectedSubreddit == 'controversial') {\n        if (eventKey == 3.1) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('hot', '');\n        }\n\n        if (eventKey == 3.2) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('new', '');\n        }\n\n        if (eventKey == 3.3) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('controversial', '');\n        }\n      } else {\n        if (eventKey == 3.1) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'hot');\n        }\n\n        if (eventKey == 3.2) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'new');\n        }\n\n        if (eventKey == 3.3) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'controversial');\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          dispatch = _this$props.dispatch,\n          selectedSubreddit = _this$props.selectedSubreddit;\n      dispatch(fetchPostsIfNeeded(selectedSubreddit));\n      this.setState({\n        subreddit: selectedSubreddit\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props2 = this.props,\n          dispatch = _this$props2.dispatch,\n          selectedSubreddit = _this$props2.selectedSubreddit;\n      console.log('selected subreddit: ' + selectedSubreddit);\n      this.setState({\n        subreddit: selectedSubreddit\n      });\n\n      window.onpopstate = function (e) {\n        window.location.reload();\n      };\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props3 = this.props,\n          dispatch = _this$props3.dispatch,\n          selectedSubreddit = _this$props3.selectedSubreddit;\n      this.setState({\n        subreddit: selectedSubreddit\n      });\n      localStorage.setItem('subreddit', selectedSubreddit);\n    }\n  }, {\n    key: \"handleMenuChange\",\n    value: function handleMenuChange(subreddit, sort) {\n      var sub = subreddit.replace(/ /g, '');\n      this.props.dispatch(selectSubreddit(sub));\n      this.props.dispatch(selectSort(sort));\n      this.props.dispatch(fetchPostsIfNeeded(sub, sort));\n    }\n  }, {\n    key: \"handleRefreshClick\",\n    value: function handleRefreshClick() {\n      var _this$props4 = this.props,\n          dispatch = _this$props4.dispatch,\n          selectedSubreddit = _this$props4.selectedSubreddit;\n      dispatch(invalidateSubreddit(selectedSubreddit));\n      dispatch(fetchPostsIfNeeded(selectedSubreddit));\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(term) {\n      var dispatch = this.props.dispatch;\n      this.setState({\n        term: term\n      });\n      console.log(\"This is search: \" + term);\n      this.props.dispatch(selectSubreddit('search'));\n      this.recvPosts = dispatch(searchPosts(term));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          selectedSubreddit = _this$props5.selectedSubreddit,\n          posts = _this$props5.posts;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        className: \"navbarleft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Navbar.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Navbar.Brand, {\n        pullLeft: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Reddit-Replica\")), React.createElement(Navbar.Toggle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(Navbar.Collapse, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        eventKey: 1,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Home\")), React.createElement(NavDropdown, {\n        eventKey: 2,\n        title: \"Subreddits\",\n        id: \"basic-nav-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        eventKey: 2.1,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/worldnews/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"World News\")), React.createElement(MenuItem, {\n        eventKey: 2.2,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/politics/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Politics\")), React.createElement(MenuItem, {\n        eventKey: 2.3,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/technology/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Technology\")), React.createElement(MenuItem, {\n        eventKey: 2.4,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/movies/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Movies\")), React.createElement(MenuItem, {\n        eventKey: 2.5,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/gaming/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Gaming\"))), React.createElement(NavDropdown, {\n        eventKey: 3,\n        title: \"Sort By\",\n        id: \"basic-nav-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        eventKey: 3.1,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/hot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Hot\")), React.createElement(MenuItem, {\n        eventKey: 3.2,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"New\")), React.createElement(MenuItem, {\n        eventKey: 3.3,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/controversial\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Controversial\")))), React.createElement(Navbar.Form, {\n        pullRight: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        placeholder: \"Search Reddit...\",\n        value: this.state.term,\n        onChange: function onChange(event) {\n          return _this2.handleInputChange(event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })))))), React.createElement(Navbar, {\n        className: \"sub-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Posts from Reddit \", React.createElement(\"span\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"'\", selectedSubreddit, \"'\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/home\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 209\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 223\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nfunction mapStateToProps(state) {\n  var selectedSubreddit = state.selectedSubreddit,\n      postsBySubreddit = state.postsBySubreddit;\n\n  if (selectedSubreddit == \"search\") {\n    var _ref = postsBySubreddit['undefined'] || {\n      isFetching: true,\n      items: []\n    },\n        isFetching = _ref.isFetching,\n        posts = _ref.items;\n  } else {\n    var _ref2 = postsBySubreddit[selectedSubreddit] || {\n      isFetching: true,\n      items: []\n    },\n        isFetching = _ref2.isFetching,\n        posts = _ref2.items;\n  }\n\n  return {\n    selectedSubreddit: selectedSubreddit,\n    posts: posts,\n    isFetching: isFetching\n  };\n}\n\nexport default connect(mapStateToProps)(Main);","map":{"version":3,"sources":["/Users/joga/Documents/GitHub/reddit-replica/src/containers/Main.js"],"names":["React","Component","connect","MenuItem","Navbar","NavbarToggler","NavbarBrand","NavDropdown","Nav","NavItem","FormGroup","FormControl","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","Button","DropdownItem","Link","Route","Redirect","selectSubreddit","selectSort","fetchPostsIfNeeded","invalidateSubreddit","searchPosts","Data","Header","Posts","Main","props","state","menu","term","subreddit","handleMenuChange","bind","handleRefreshClick","handleSelect","handleSort","handleInputChange","window","performance","navigation","type","console","log","recvPosts","eventKey","setState","selectedSubreddit","dispatch","onpopstate","e","location","reload","localStorage","setItem","sort","sub","replace","posts","event","target","value","mapStateToProps","postsBySubreddit","isFetching","items"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  MenuItem,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  NavDropdown,\n  Nav,\n  NavItem,\n  FormGroup,\n  FormControl,\n  NavLink,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  Button,\n  DropdownItem } from 'react-bootstrap';\nimport '../styles/Header.css';\nimport { Link } from 'react-router-dom';\nimport { Route, Redirect } from 'react-router-dom';\nimport {\n    selectSubreddit,\n    selectSort,\n    fetchPostsIfNeeded,\n    invalidateSubreddit,\n    searchPosts\n} from '../actions/actions'\nimport Data from '../components/Data'\nimport Header from '../components/Header'\nimport Posts from '../containers/Posts'\n\n\nclass Main extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n          menu: '/best',\n          term: '',\n          subreddit: 'best'\n        }\n\n\n        this.handleMenuChange = this.handleMenuChange.bind(this)\n        this.handleRefreshClick = this.handleRefreshClick.bind(this)\n        this.handleSelect = this.handleSelect.bind(this)\n        this.handleSort = this.handleSort.bind(this)\n        this.handleInputChange = this.handleInputChange.bind(this);\n\n        if (window.performance) {\n        if (performance.navigation.type == 1) {\n          console.log(\"This is state: \"+this.state.menu);\n\n        }\n      }\n      this.recvPosts = {};\n\n    }\n\n    handleSelect(eventKey) {\n      if(eventKey==1){\n        this.setState({menu: '/best'});\n        this.handleMenuChange('best',\"\");\n      }\n      if(eventKey==2.1){\n        this.setState({menu: '/worldnews'});\n        this.handleMenuChange('r/worldnews/','best');\n      }\n      if(eventKey==2.2){\n        this.setState({menu: '/politics'});\n        this.handleMenuChange('r/politics/','best');\n      }\n      if(eventKey==2.3){\n        this.setState({menu: '/technology'});\n        this.handleMenuChange('r/technology/','best');\n      }\n      if(eventKey==2.4){\n        this.setState({menu: '/movies'});\n        this.handleMenuChange('r/movies/','best');\n      }\n      if(eventKey==2.5){\n        this.setState({menu: '/gaming'});\n        this.handleMenuChange('r/gaming/','best');\n      }\n    }\n    handleSort(eventKey){\n      if(this.props.selectedSubreddit == 'best'||this.props.selectedSubreddit == 'hot'||this.props.selectedSubreddit == 'new'||this.props.selectedSubreddit == 'controversial'){\n        if(eventKey==3.1){\n          this.setState({menu: ''});\n          this.handleMenuChange('hot','');\n        }\n        if(eventKey==3.2){\n          this.setState({menu: ''});\n          this.handleMenuChange('new','');\n        }\n        if(eventKey==3.3){\n          this.setState({menu: ''});\n          this.handleMenuChange('controversial','');\n        }\n      }\n      else{\n        if(eventKey==3.1){\n          this.handleMenuChange(this.props.selectedSubreddit,'hot');\n        }\n        if(eventKey==3.2){\n          this.handleMenuChange(this.props.selectedSubreddit,'new');\n        }\n        if(eventKey==3.3){\n          this.handleMenuChange(this.props.selectedSubreddit,'controversial');\n        }\n      }\n    }\n\n    componentDidMount() {\n        const { dispatch, selectedSubreddit } = this.props\n        dispatch(fetchPostsIfNeeded(selectedSubreddit))\n        this.setState({subreddit: selectedSubreddit})\n    }\n\n    componentDidUpdate(){\n      const { dispatch, selectedSubreddit } = this.props\n      console.log('selected subreddit: '+selectedSubreddit);\n      this.setState({subreddit: selectedSubreddit})\n      window.onpopstate  = (e) => {\n        window.location.reload();\n\n      }\n    }\n\n    componentWillUnmount(){\n      const { dispatch, selectedSubreddit } = this.props\n      this.setState({subreddit: selectedSubreddit})\n      localStorage.setItem('subreddit', selectedSubreddit);\n    }\n\n    handleMenuChange(subreddit,sort) {\n        const sub = subreddit.replace(/ /g, '')\n        this.props.dispatch(selectSubreddit(sub))\n        this.props.dispatch(selectSort(sort))\n        this.props.dispatch(fetchPostsIfNeeded(sub,sort))\n    }\n\n    handleRefreshClick() {\n        const { dispatch, selectedSubreddit } = this.props\n        dispatch(invalidateSubreddit(selectedSubreddit))\n        dispatch(fetchPostsIfNeeded(selectedSubreddit))\n    }\n\n    handleInputChange (term) {\n      const { dispatch } = this.props\n      this.setState({ term });\n      console.log(\"This is search: \"+term)\n      this.props.dispatch(selectSubreddit('search'))\n      this.recvPosts = dispatch(searchPosts(term))\n  }\n\n    render() {\n        const { selectedSubreddit, posts } = this.props\n\n        return (\n            <div>\n            <Navbar className=\"navbarleft\">\n              <Navbar.Header>\n                <Navbar.Brand pullLeft>\n                  <a href=\"/home\">Reddit-Replica</a>\n                </Navbar.Brand>\n                <Navbar.Toggle />\n              </Navbar.Header>\n              <Navbar.Collapse>\n                <Nav>\n                  <NavItem eventKey={1} onSelect={this.handleSelect}><Link to=\"/home\">Home</Link></NavItem>\n                  <NavDropdown eventKey={2} title=\"Subreddits\" id=\"basic-nav-dropdown\">\n                    <MenuItem eventKey={2.1} onSelect={this.handleSelect}><Link to=\"/worldnews/best\">World News</Link></MenuItem>\n                    <MenuItem eventKey={2.2} onSelect={this.handleSelect}><Link to=\"/politics/best\">Politics</Link></MenuItem>\n                    <MenuItem eventKey={2.3} onSelect={this.handleSelect}><Link to=\"/technology/best\">Technology</Link></MenuItem>\n                    <MenuItem eventKey={2.4} onSelect={this.handleSelect}><Link to=\"/movies/best\">Movies</Link></MenuItem>\n                    <MenuItem eventKey={2.5} onSelect={this.handleSelect}><Link to=\"/gaming/best\">Gaming</Link></MenuItem>\n                  </NavDropdown>\n                  <NavDropdown eventKey={3} title=\"Sort By\" id=\"basic-nav-dropdown\">\n                    <MenuItem eventKey={3.1} onSelect={this.handleSort}><Link to={this.state.menu+\"/hot\"}>Hot</Link></MenuItem>\n                    <MenuItem eventKey={3.2} onSelect={this.handleSort}><Link to={this.state.menu+\"/new\"}>New</Link></MenuItem>\n                    <MenuItem eventKey={3.3} onSelect={this.handleSort}><Link to={this.state.menu+\"/controversial\"}>Controversial</Link></MenuItem>\n                  </NavDropdown>\n                </Nav>\n                <Navbar.Form pullRight>\n                  <FormGroup>\n                    <Link to={\"/search\"}>\n                      <FormControl type=\"text\" placeholder=\"Search Reddit...\" value={this.state.term} onChange= {event => this.handleInputChange(event.target.value)}/>\n                    </Link>\n                  </FormGroup>\n                </Navbar.Form>\n              </Navbar.Collapse>\n            </Navbar>\n            <Navbar className=\"sub-header\">\n            Posts from Reddit <span className=\"name\">'{selectedSubreddit}'</span>\n            </Navbar>\n            <div>\n              <Redirect from=\"/\" to=\"/home\" />\n              <Route exact path='/home' render={() => <Data posts={posts}/>}/>\n              <Route exact path='/hot' render={() => <Data posts={posts}/>}/>\n              <Route exact path='/new' render={() => <Data posts={posts}/>}/>\n              <Route exact path='/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/worldnews/best' render={() => <Data posts={posts}/>}/>\n              <Route path='/politics/best' render={() => <Data posts={posts}/>}/>\n              <Route path='/technology/best' render={() => <Data posts={posts}/>}/>\n              <Route path='/movies/best' render={() => <Data posts={posts}/>}/>\n              <Route path='/gaming/best' render={() => <Data posts={posts}/>}/>\n              <Route path='/worldnews/hot' render={() => <Data posts={posts}/>}/>\n              <Route path='/politics/hot' render={() => <Data posts={posts}/>}/>\n              <Route path='/technology/hot' render={() => <Data posts={posts}/>}/>\n              <Route path='/movies/hot' render={() => <Data posts={posts}/>}/>\n              <Route path='/gaming/hot' render={() => <Data posts={posts}/>}/>\n              <Route path='/worldnews/new' render={() => <Data posts={posts}/>}/>\n              <Route path='/politics/new' render={() => <Data posts={posts}/>}/>\n              <Route path='/technology/new' render={() => <Data posts={posts}/>}/>\n              <Route path='/movies/new' render={() => <Data posts={posts}/>}/>\n              <Route path='/gaming/new' render={() => <Data posts={posts}/>}/>\n              <Route path='/worldnews/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/politics/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/technology/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/movies/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/gaming/controversial' render={() => <Data posts={posts}/>}/>\n              <Route path='/search' render={() => <Data posts={posts}/>}/>\n            </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { selectedSubreddit, postsBySubreddit } = state;\n    if(selectedSubreddit == \"search\"){\n      var { isFetching, items: posts } = postsBySubreddit['undefined'] || { isFetching: true, items: [] }\n    }\n    else{\n      var { isFetching, items: posts } = postsBySubreddit[selectedSubreddit] || { isFetching: true, items: [] }\n    }\n\n    return {\n        selectedSubreddit,\n        posts,\n        isFetching\n    }\n}\n\nexport default connect(mapStateToProps)(Main)\n"]},"metadata":{},"sourceType":"module"}