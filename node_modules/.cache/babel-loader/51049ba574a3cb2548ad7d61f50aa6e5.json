{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\PujithaRajMallampall\\\\Documents\\\\Pujitha-Sample\\\\reddit-replica\\\\src\\\\containers\\\\Main.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { MenuItem, Navbar, NavbarToggler, NavbarBrand, NavDropdown, Nav, NavItem, FormGroup, FormControl, NavLink, UncontrolledDropdown, DropdownToggle, DropdownMenu, Button, DropdownItem } from 'react-bootstrap';\nimport '../styles/Header.css';\nimport { Link } from 'react-router-dom';\nimport { Route, Redirect } from 'react-router-dom';\nimport { selectSubreddit, selectSort, fetchPostsIfNeeded, invalidateSubreddit, searchPosts } from '../actions/actions';\nimport Data from '../components/Data';\nimport Header from '../components/Header';\nimport Posts from '../containers/Posts';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n    _this.state = {\n      menu: '/best',\n      term: '',\n      selectedSort: ''\n    };\n    _this.handleMenuChange = _this.handleMenuChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRefreshClick = _this.handleRefreshClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSort = _this.handleSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (window.performance) {\n      if (performance.navigation.type == 1) {\n        console.log(\"This is state: \" + _this.state.menu);\n      }\n    }\n\n    _this.recvPosts = {};\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"handleSelect\",\n    value: function handleSelect(eventKey) {\n      if (eventKey == 1) {\n        this.setState({\n          menu: '/best'\n        });\n        this.handleMenuChange('best', \"\");\n      }\n\n      if (eventKey == 2.1) {\n        this.setState({\n          menu: '/worldnews'\n        });\n        this.handleMenuChange('r/worldnews/', 'best');\n      }\n\n      if (eventKey == 2.2) {\n        this.setState({\n          menu: '/politics'\n        });\n        this.handleMenuChange('r/politics/', 'best');\n      }\n\n      if (eventKey == 2.3) {\n        this.setState({\n          menu: '/technology'\n        });\n        this.handleMenuChange('r/technology/', 'best');\n      }\n\n      if (eventKey == 2.4) {\n        this.setState({\n          menu: '/movies'\n        });\n        this.handleMenuChange('r/movies/', 'best');\n      }\n\n      if (eventKey == 2.5) {\n        this.setState({\n          menu: '/gaming'\n        });\n        this.handleMenuChange('r/gaming/', 'best');\n      }\n    }\n  }, {\n    key: \"handleSort\",\n    value: function handleSort(eventKey) {\n      if (this.props.selectedSubreddit == 'best' || this.props.selectedSubreddit == 'hot' || this.props.selectedSubreddit == 'new' || this.props.selectedSubreddit == 'controversial') {\n        if (eventKey == 3.1) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('hot', '');\n        }\n\n        if (eventKey == 3.2) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('new', '');\n        }\n\n        if (eventKey == 3.3) {\n          this.setState({\n            menu: ''\n          });\n          this.handleMenuChange('controversial', '');\n        }\n      } else {\n        if (eventKey == 3.1) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'hot');\n        }\n\n        if (eventKey == 3.2) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'new');\n        }\n\n        if (eventKey == 3.3) {\n          this.handleMenuChange(this.props.selectedSubreddit, 'controversial');\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dispatch = this.props.dispatch;\n\n      if (localStorage.getItem('subreddit') && localStorage.getItem('sort')) {\n        var selectedSubreddit = localStorage.getItem('subreddit');\n        console.log(\"localStorage.getItem('subreddit')\" + localStorage.getItem('subreddit') + \"\" + localStorage.getItem('sort'));\n        var sort = localStorage.getItem('sort');\n\n        if (sort == \"\" && localStorage.getItem('sort')) {\n          sort = 'best';\n        }\n      } else {\n        var selectedSubreddit = this.props.selectedSubreddit;\n      }\n\n      dispatch(fetchPostsIfNeeded(selectedSubreddit, sort));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props = this.props,\n          dispatch = _this$props.dispatch,\n          selectedSubreddit = _this$props.selectedSubreddit;\n\n      window.onpopstate = function (e) {\n        window.location.reload();\n      };\n\n      localStorage.setItem('subreddit', selectedSubreddit);\n      localStorage.setItem('sort', this.state.selectedSort);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props2 = this.props,\n          dispatch = _this$props2.dispatch,\n          selectedSubreddit = _this$props2.selectedSubreddit;\n    }\n  }, {\n    key: \"handleMenuChange\",\n    value: function handleMenuChange(subreddit, sort) {\n      var sub = subreddit.replace(/ /g, '');\n      this.setState({\n        selectedSort: sort\n      });\n      this.props.dispatch(selectSubreddit(sub));\n      this.props.dispatch(selectSort(sort));\n      this.props.dispatch(fetchPostsIfNeeded(sub, sort));\n    }\n  }, {\n    key: \"handleRefreshClick\",\n    value: function handleRefreshClick() {\n      var _this$props3 = this.props,\n          dispatch = _this$props3.dispatch,\n          selectedSubreddit = _this$props3.selectedSubreddit;\n      dispatch(invalidateSubreddit(selectedSubreddit));\n      dispatch(fetchPostsIfNeeded(selectedSubreddit));\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(term) {\n      var dispatch = this.props.dispatch;\n      this.setState({\n        term: term\n      });\n      console.log(\"This is search: \" + term);\n      this.props.dispatch(selectSubreddit('search'));\n      this.recvPosts = dispatch(searchPosts(term));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          selectedSubreddit = _this$props4.selectedSubreddit,\n          posts = _this$props4.posts;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        className: \"navbarleft\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Navbar.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Navbar.Brand, {\n        pullLeft: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Reddit-Replica\")), React.createElement(Navbar.Toggle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(Navbar.Collapse, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        eventKey: 1,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Home\")), React.createElement(NavDropdown, {\n        eventKey: 2,\n        title: \"Subreddits\",\n        id: \"basic-nav-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        eventKey: 2.1,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/worldnews/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"World News\")), React.createElement(MenuItem, {\n        eventKey: 2.2,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/politics/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Politics\")), React.createElement(MenuItem, {\n        eventKey: 2.3,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/technology/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Technology\")), React.createElement(MenuItem, {\n        eventKey: 2.4,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/movies/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Movies\")), React.createElement(MenuItem, {\n        eventKey: 2.5,\n        onSelect: this.handleSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/gaming/best\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Gaming\"))), React.createElement(NavDropdown, {\n        eventKey: 3,\n        title: \"Sort By\",\n        id: \"basic-nav-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        eventKey: 3.1,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/hot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Hot\")), React.createElement(MenuItem, {\n        eventKey: 3.2,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"New\")), React.createElement(MenuItem, {\n        eventKey: 3.3,\n        onSelect: this.handleSort,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: this.state.menu + \"/controversial\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Controversial\")))), React.createElement(Navbar.Form, {\n        pullRight: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        placeholder: \"Search Reddit...\",\n        value: this.state.term,\n        onChange: function onChange(event) {\n          return _this2.handleInputChange(event.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })))))), React.createElement(Navbar, {\n        className: \"sub-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Posts from Reddit \", React.createElement(\"span\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"'\", selectedSubreddit, \"'\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/home\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/best\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/hot\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 223\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 224\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/new\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 228\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/worldnews/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/politics/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/technology/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 231\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/movies/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/gaming/controversial\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return React.createElement(Data, {\n            posts: posts,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nfunction mapStateToProps(state) {\n  var selectedSubreddit = state.selectedSubreddit,\n      postsBySubreddit = state.postsBySubreddit;\n\n  if (selectedSubreddit == \"search\") {\n    var _ref = postsBySubreddit['undefined'] || {\n      isFetching: true,\n      items: []\n    },\n        isFetching = _ref.isFetching,\n        posts = _ref.items;\n  } else {\n    var _ref2 = postsBySubreddit[selectedSubreddit] || {\n      isFetching: true,\n      items: []\n    },\n        isFetching = _ref2.isFetching,\n        posts = _ref2.items;\n  }\n\n  return {\n    selectedSubreddit: selectedSubreddit,\n    posts: posts,\n    isFetching: isFetching\n  };\n}\n\nexport default connect(mapStateToProps)(Main);","map":{"version":3,"sources":["C:\\Users\\PujithaRajMallampall\\Documents\\Pujitha-Sample\\reddit-replica\\src\\containers\\Main.js"],"names":["React","Component","connect","MenuItem","Navbar","NavbarToggler","NavbarBrand","NavDropdown","Nav","NavItem","FormGroup","FormControl","NavLink","UncontrolledDropdown","DropdownToggle","DropdownMenu","Button","DropdownItem","Link","Route","Redirect","selectSubreddit","selectSort","fetchPostsIfNeeded","invalidateSubreddit","searchPosts","Data","Header","Posts","Main","props","state","menu","term","selectedSort","handleMenuChange","bind","handleRefreshClick","handleSelect","handleSort","handleInputChange","window","performance","navigation","type","console","log","recvPosts","eventKey","setState","selectedSubreddit","dispatch","localStorage","getItem","sort","onpopstate","e","location","reload","setItem","subreddit","sub","replace","posts","event","target","value","mapStateToProps","postsBySubreddit","isFetching","items"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,QADF,EAEEC,MAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,WALF,EAMEC,GANF,EAOEC,OAPF,EAQEC,SARF,EASEC,WATF,EAUEC,OAVF,EAWEC,oBAXF,EAYEC,cAZF,EAaEC,YAbF,EAcEC,MAdF,EAeEC,YAfF,QAesB,iBAftB;AAgBA,OAAO,sBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SACIC,eADJ,EAEIC,UAFJ,EAGIC,kBAHJ,EAIIC,mBAJJ,EAKIC,WALJ,QAMO,oBANP;AAOA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;IAGMC,I;;;;;AACF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,OADK;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,YAAY,EAAE;AAHH,KAAb;AAOA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,uDAAxB;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,uDAA1B;AACA,UAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,uDAApB;AACA,UAAKG,UAAL,GAAkB,MAAKA,UAAL,CAAgBH,IAAhB,uDAAlB;AACA,UAAKI,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBJ,IAAvB,uDAAzB;;AAEA,QAAIK,MAAM,CAACC,WAAX,EAAwB;AACxB,UAAIA,WAAW,CAACC,UAAZ,CAAuBC,IAAvB,IAA+B,CAAnC,EAAsC;AACpCC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAkB,MAAKf,KAAL,CAAWC,IAAzC;AAED;AACF;;AACD,UAAKe,SAAL,GAAiB,EAAjB;AArBiB;AAuBlB;;;;iCAEYC,Q,EAAU;AACrB,UAAGA,QAAQ,IAAE,CAAb,EAAe;AACb,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,MAAtB,EAA6B,EAA7B;AACD;;AACD,UAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,cAAtB,EAAqC,MAArC;AACD;;AACD,UAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,aAAtB,EAAoC,MAApC;AACD;;AACD,UAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,eAAtB,EAAsC,MAAtC;AACD;;AACD,UAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,WAAtB,EAAkC,MAAlC;AACD;;AACD,UAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,aAAKC,QAAL,CAAc;AAACjB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACA,aAAKG,gBAAL,CAAsB,WAAtB,EAAkC,MAAlC;AACD;AACF;;;+BACUa,Q,EAAS;AAClB,UAAG,KAAKlB,KAAL,CAAWoB,iBAAX,IAAgC,MAAhC,IAAwC,KAAKpB,KAAL,CAAWoB,iBAAX,IAAgC,KAAxE,IAA+E,KAAKpB,KAAL,CAAWoB,iBAAX,IAAgC,KAA/G,IAAsH,KAAKpB,KAAL,CAAWoB,iBAAX,IAAgC,eAAzJ,EAAyK;AACvK,YAAGF,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKC,QAAL,CAAc;AAACjB,YAAAA,IAAI,EAAE;AAAP,WAAd;AACA,eAAKG,gBAAL,CAAsB,KAAtB,EAA4B,EAA5B;AACD;;AACD,YAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKC,QAAL,CAAc;AAACjB,YAAAA,IAAI,EAAE;AAAP,WAAd;AACA,eAAKG,gBAAL,CAAsB,KAAtB,EAA4B,EAA5B;AACD;;AACD,YAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKC,QAAL,CAAc;AAACjB,YAAAA,IAAI,EAAE;AAAP,WAAd;AACA,eAAKG,gBAAL,CAAsB,eAAtB,EAAsC,EAAtC;AACD;AACF,OAbD,MAcI;AACF,YAAGa,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKb,gBAAL,CAAsB,KAAKL,KAAL,CAAWoB,iBAAjC,EAAmD,KAAnD;AACD;;AACD,YAAGF,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKb,gBAAL,CAAsB,KAAKL,KAAL,CAAWoB,iBAAjC,EAAmD,KAAnD;AACD;;AACD,YAAGF,QAAQ,IAAE,GAAb,EAAiB;AACf,eAAKb,gBAAL,CAAsB,KAAKL,KAAL,CAAWoB,iBAAjC,EAAmD,eAAnD;AACD;AACF;AACF;;;wCAEmB;AAAA,UACRC,QADQ,GACK,KAAKrB,KADV,CACRqB,QADQ;;AAEhB,UAAIC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAD,IAAwCD,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA3C,EAAyE;AACvE,YAAIH,iBAAiB,GAAGE,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAsCM,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAtC,GAAwE,EAAxE,GAA2ED,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAvF;AACA,YAAIC,IAAI,GAAGF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;AACA,YAAGC,IAAI,IAAE,EAAN,IAAYF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAf,EAA4C;AAC1CC,UAAAA,IAAI,GAAG,MAAP;AACD;AACF,OAPD,MAQK;AAAA,YACGJ,iBADH,GACyB,KAAKpB,KAD9B,CACGoB,iBADH;AAEJ;;AAEDC,MAAAA,QAAQ,CAAC5B,kBAAkB,CAAC2B,iBAAD,EAAmBI,IAAnB,CAAnB,CAAR;AAEH;;;yCAEmB;AAAA,wBACsB,KAAKxB,KAD3B;AAAA,UACVqB,QADU,eACVA,QADU;AAAA,UACAD,iBADA,eACAA,iBADA;;AAElBT,MAAAA,MAAM,CAACc,UAAP,GAAqB,UAACC,CAAD,EAAO;AAC1Bf,QAAAA,MAAM,CAACgB,QAAP,CAAgBC,MAAhB;AAED,OAHD;;AAIAN,MAAAA,YAAY,CAACO,OAAb,CAAqB,WAArB,EAAkCT,iBAAlC;AACAE,MAAAA,YAAY,CAACO,OAAb,CAAqB,MAArB,EAA6B,KAAK5B,KAAL,CAAWG,YAAxC;AACD;;;2CAEqB;AAAA,yBACoB,KAAKJ,KADzB;AAAA,UACZqB,QADY,gBACZA,QADY;AAAA,UACFD,iBADE,gBACFA,iBADE;AAErB;;;qCAEgBU,S,EAAUN,I,EAAM;AAC7B,UAAMO,GAAG,GAAGD,SAAS,CAACE,OAAV,CAAkB,IAAlB,EAAwB,EAAxB,CAAZ;AACA,WAAKb,QAAL,CAAc;AAACf,QAAAA,YAAY,EAAEoB;AAAf,OAAd;AACA,WAAKxB,KAAL,CAAWqB,QAAX,CAAoB9B,eAAe,CAACwC,GAAD,CAAnC;AACA,WAAK/B,KAAL,CAAWqB,QAAX,CAAoB7B,UAAU,CAACgC,IAAD,CAA9B;AACA,WAAKxB,KAAL,CAAWqB,QAAX,CAAoB5B,kBAAkB,CAACsC,GAAD,EAAKP,IAAL,CAAtC;AACH;;;yCAEoB;AAAA,yBACuB,KAAKxB,KAD5B;AAAA,UACTqB,QADS,gBACTA,QADS;AAAA,UACCD,iBADD,gBACCA,iBADD;AAEjBC,MAAAA,QAAQ,CAAC3B,mBAAmB,CAAC0B,iBAAD,CAApB,CAAR;AACAC,MAAAA,QAAQ,CAAC5B,kBAAkB,CAAC2B,iBAAD,CAAnB,CAAR;AACH;;;sCAEkBjB,I,EAAM;AAAA,UACfkB,QADe,GACF,KAAKrB,KADH,CACfqB,QADe;AAEvB,WAAKF,QAAL,CAAc;AAAEhB,QAAAA,IAAI,EAAJA;AAAF,OAAd;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAmBb,IAA/B;AACA,WAAKH,KAAL,CAAWqB,QAAX,CAAoB9B,eAAe,CAAC,QAAD,CAAnC;AACA,WAAK0B,SAAL,GAAiBI,QAAQ,CAAC1B,WAAW,CAACQ,IAAD,CAAZ,CAAzB;AACH;;;6BAEU;AAAA;;AAAA,yBACgC,KAAKH,KADrC;AAAA,UACGoB,iBADH,gBACGA,iBADH;AAAA,UACsBa,KADtB,gBACsBA,KADtB;AAGL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD,CAAQ,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD,CAAQ,KAAR;AAAc,QAAA,QAAQ,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,IAAI,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CADF,EAIE,oBAAC,MAAD,CAAQ,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,EAOE,oBAAC,MAAD,CAAQ,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,QAAQ,EAAE,CAAnB;AAAsB,QAAA,QAAQ,EAAE,KAAKzB,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAnD,CADF,EAEE,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAE,CAAvB;AAA0B,QAAA,KAAK,EAAC,YAAhC;AAA6C,QAAA,EAAE,EAAC,oBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAtD,CADF,EAEE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAtD,CAFF,EAGE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAtD,CAHF,EAIE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtD,CAJF,EAKE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKA,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtD,CALF,CAFF,EASE,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAE,CAAvB;AAA0B,QAAA,KAAK,EAAC,SAAhC;AAA0C,QAAA,EAAE,EAAC,oBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKC,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,KAAKR,KAAL,CAAWC,IAAX,GAAgB,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAApD,CADF,EAEE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKO,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,KAAKR,KAAL,CAAWC,IAAX,GAAgB,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAApD,CAFF,EAGE,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,GAApB;AAAyB,QAAA,QAAQ,EAAE,KAAKO,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoD,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,KAAKR,KAAL,CAAWC,IAAX,GAAgB,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAApD,CAHF,CATF,CADF,EAgBE,oBAAC,MAAD,CAAQ,IAAR;AAAa,QAAA,SAAS,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAC,MAAlB;AAAyB,QAAA,WAAW,EAAC,kBAArC;AAAwD,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,IAA1E;AAAgF,QAAA,QAAQ,EAAG,kBAAA+B,KAAK;AAAA,iBAAI,MAAI,CAACxB,iBAAL,CAAuBwB,KAAK,CAACC,MAAN,CAAaC,KAApC,CAAJ;AAAA,SAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,CAhBF,CAPF,CADA,EAiCA,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACkB;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAyBhB,iBAAzB,MADlB,CAjCA,EAoCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAC,GAAf;AAAmB,QAAA,EAAE,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,OAAlB;AAA0B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEa,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,MAAlB;AAAyB,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,MAAlB;AAAyB,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,gBAAlB;AAAmC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,iBAAZ;AAA8B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAQE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,kBAAZ;AAA+B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EASE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,cAAZ;AAA2B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,EAUE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,cAAZ;AAA2B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAYE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,EAaE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,iBAAZ;AAA8B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAeE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfF,EAgBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBF,EAiBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,eAAZ;AAA4B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjBF,EAkBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,iBAAZ;AAA8B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBF,EAmBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBF,EAoBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,aAAZ;AAA0B,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,EAqBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,0BAAZ;AAAuC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBF,EAsBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,yBAAZ;AAAsC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtBF,EAuBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,2BAAZ;AAAwC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBF,EAwBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,uBAAZ;AAAoC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAxBF,EAyBE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,uBAAZ;AAAoC,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzBF,EA0BE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,MAAM,EAAE;AAAA,iBAAM,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAN;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1BF,CApCA,CADJ;AAmEH;;;;EA5Mc9D,S;;AA+MnB,SAASkE,eAAT,CAAyBpC,KAAzB,EAAgC;AAAA,MACpBmB,iBADoB,GACoBnB,KADpB,CACpBmB,iBADoB;AAAA,MACDkB,gBADC,GACoBrC,KADpB,CACDqC,gBADC;;AAE5B,MAAGlB,iBAAiB,IAAI,QAAxB,EAAiC;AAAA,eACIkB,gBAAgB,CAAC,WAAD,CAAhB,IAAiC;AAAEC,MAAAA,UAAU,EAAE,IAAd;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KADrC;AAAA,QACzBD,UADyB,QACzBA,UADyB;AAAA,QACNN,KADM,QACbO,KADa;AAEhC,GAFD,MAGI;AAAA,gBACiCF,gBAAgB,CAAClB,iBAAD,CAAhB,IAAuC;AAAEmB,MAAAA,UAAU,EAAE,IAAd;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KADxE;AAAA,QACID,UADJ,SACIA,UADJ;AAAA,QACuBN,KADvB,SACgBO,KADhB;AAEH;;AAED,SAAO;AACHpB,IAAAA,iBAAiB,EAAjBA,iBADG;AAEHa,IAAAA,KAAK,EAALA,KAFG;AAGHM,IAAAA,UAAU,EAAVA;AAHG,GAAP;AAKH;;AAED,eAAenE,OAAO,CAACiE,eAAD,CAAP,CAAyBtC,IAAzB,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  MenuItem,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  NavDropdown,\r\n  Nav,\r\n  NavItem,\r\n  FormGroup,\r\n  FormControl,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  Button,\r\n  DropdownItem } from 'react-bootstrap';\r\nimport '../styles/Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport {\r\n    selectSubreddit,\r\n    selectSort,\r\n    fetchPostsIfNeeded,\r\n    invalidateSubreddit,\r\n    searchPosts\r\n} from '../actions/actions'\r\nimport Data from '../components/Data'\r\nimport Header from '../components/Header'\r\nimport Posts from '../containers/Posts'\r\n\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          menu: '/best',\r\n          term: '',\r\n          selectedSort: ''\r\n        }\r\n\r\n\r\n        this.handleMenuChange = this.handleMenuChange.bind(this)\r\n        this.handleRefreshClick = this.handleRefreshClick.bind(this)\r\n        this.handleSelect = this.handleSelect.bind(this)\r\n        this.handleSort = this.handleSort.bind(this)\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n        if (window.performance) {\r\n        if (performance.navigation.type == 1) {\r\n          console.log(\"This is state: \"+this.state.menu);\r\n\r\n        }\r\n      }\r\n      this.recvPosts = {};\r\n\r\n    }\r\n\r\n    handleSelect(eventKey) {\r\n      if(eventKey==1){\r\n        this.setState({menu: '/best'});\r\n        this.handleMenuChange('best',\"\");\r\n      }\r\n      if(eventKey==2.1){\r\n        this.setState({menu: '/worldnews'});\r\n        this.handleMenuChange('r/worldnews/','best');\r\n      }\r\n      if(eventKey==2.2){\r\n        this.setState({menu: '/politics'});\r\n        this.handleMenuChange('r/politics/','best');\r\n      }\r\n      if(eventKey==2.3){\r\n        this.setState({menu: '/technology'});\r\n        this.handleMenuChange('r/technology/','best');\r\n      }\r\n      if(eventKey==2.4){\r\n        this.setState({menu: '/movies'});\r\n        this.handleMenuChange('r/movies/','best');\r\n      }\r\n      if(eventKey==2.5){\r\n        this.setState({menu: '/gaming'});\r\n        this.handleMenuChange('r/gaming/','best');\r\n      }\r\n    }\r\n    handleSort(eventKey){\r\n      if(this.props.selectedSubreddit == 'best'||this.props.selectedSubreddit == 'hot'||this.props.selectedSubreddit == 'new'||this.props.selectedSubreddit == 'controversial'){\r\n        if(eventKey==3.1){\r\n          this.setState({menu: ''});\r\n          this.handleMenuChange('hot','');\r\n        }\r\n        if(eventKey==3.2){\r\n          this.setState({menu: ''});\r\n          this.handleMenuChange('new','');\r\n        }\r\n        if(eventKey==3.3){\r\n          this.setState({menu: ''});\r\n          this.handleMenuChange('controversial','');\r\n        }\r\n      }\r\n      else{\r\n        if(eventKey==3.1){\r\n          this.handleMenuChange(this.props.selectedSubreddit,'hot');\r\n        }\r\n        if(eventKey==3.2){\r\n          this.handleMenuChange(this.props.selectedSubreddit,'new');\r\n        }\r\n        if(eventKey==3.3){\r\n          this.handleMenuChange(this.props.selectedSubreddit,'controversial');\r\n        }\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { dispatch } = this.props\r\n        if((localStorage.getItem('subreddit')) && (localStorage.getItem('sort'))){\r\n          var selectedSubreddit = localStorage.getItem('subreddit');\r\n          console.log(\"localStorage.getItem('subreddit')\" + localStorage.getItem('subreddit')+\"\"+localStorage.getItem('sort'))\r\n          var sort = localStorage.getItem('sort');\r\n          if(sort==\"\" && localStorage.getItem('sort')){\r\n            sort = 'best'\r\n          }\r\n        }\r\n        else {\r\n          var { selectedSubreddit } = this.props\r\n        }\r\n\r\n        dispatch(fetchPostsIfNeeded(selectedSubreddit,sort))\r\n\r\n    }\r\n\r\n    componentDidUpdate(){\r\n      const { dispatch, selectedSubreddit } = this.props\r\n      window.onpopstate  = (e) => {\r\n        window.location.reload();\r\n\r\n      }\r\n      localStorage.setItem('subreddit', selectedSubreddit);\r\n      localStorage.setItem('sort', this.state.selectedSort);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n      const { dispatch, selectedSubreddit } = this.props\r\n    }\r\n\r\n    handleMenuChange(subreddit,sort) {\r\n        const sub = subreddit.replace(/ /g, '')\r\n        this.setState({selectedSort: sort})\r\n        this.props.dispatch(selectSubreddit(sub))\r\n        this.props.dispatch(selectSort(sort))\r\n        this.props.dispatch(fetchPostsIfNeeded(sub,sort))\r\n    }\r\n\r\n    handleRefreshClick() {\r\n        const { dispatch, selectedSubreddit } = this.props\r\n        dispatch(invalidateSubreddit(selectedSubreddit))\r\n        dispatch(fetchPostsIfNeeded(selectedSubreddit))\r\n    }\r\n\r\n    handleInputChange (term) {\r\n      const { dispatch } = this.props\r\n      this.setState({ term });\r\n      console.log(\"This is search: \"+term)\r\n      this.props.dispatch(selectSubreddit('search'))\r\n      this.recvPosts = dispatch(searchPosts(term))\r\n  }\r\n\r\n    render() {\r\n        const { selectedSubreddit, posts } = this.props\r\n\r\n        return (\r\n            <div>\r\n            <Navbar className=\"navbarleft\">\r\n              <Navbar.Header>\r\n                <Navbar.Brand pullLeft>\r\n                  <a href=\"/home\">Reddit-Replica</a>\r\n                </Navbar.Brand>\r\n                <Navbar.Toggle />\r\n              </Navbar.Header>\r\n              <Navbar.Collapse>\r\n                <Nav>\r\n                  <NavItem eventKey={1} onSelect={this.handleSelect}><Link to=\"/home\">Home</Link></NavItem>\r\n                  <NavDropdown eventKey={2} title=\"Subreddits\" id=\"basic-nav-dropdown\">\r\n                    <MenuItem eventKey={2.1} onSelect={this.handleSelect}><Link to=\"/worldnews/best\">World News</Link></MenuItem>\r\n                    <MenuItem eventKey={2.2} onSelect={this.handleSelect}><Link to=\"/politics/best\">Politics</Link></MenuItem>\r\n                    <MenuItem eventKey={2.3} onSelect={this.handleSelect}><Link to=\"/technology/best\">Technology</Link></MenuItem>\r\n                    <MenuItem eventKey={2.4} onSelect={this.handleSelect}><Link to=\"/movies/best\">Movies</Link></MenuItem>\r\n                    <MenuItem eventKey={2.5} onSelect={this.handleSelect}><Link to=\"/gaming/best\">Gaming</Link></MenuItem>\r\n                  </NavDropdown>\r\n                  <NavDropdown eventKey={3} title=\"Sort By\" id=\"basic-nav-dropdown\">\r\n                    <MenuItem eventKey={3.1} onSelect={this.handleSort}><Link to={this.state.menu+\"/hot\"}>Hot</Link></MenuItem>\r\n                    <MenuItem eventKey={3.2} onSelect={this.handleSort}><Link to={this.state.menu+\"/new\"}>New</Link></MenuItem>\r\n                    <MenuItem eventKey={3.3} onSelect={this.handleSort}><Link to={this.state.menu+\"/controversial\"}>Controversial</Link></MenuItem>\r\n                  </NavDropdown>\r\n                </Nav>\r\n                <Navbar.Form pullRight>\r\n                  <FormGroup>\r\n                    <Link to={\"/search\"}>\r\n                      <FormControl type=\"text\" placeholder=\"Search Reddit...\" value={this.state.term} onChange= {event => this.handleInputChange(event.target.value)}/>\r\n                    </Link>\r\n                  </FormGroup>\r\n                </Navbar.Form>\r\n              </Navbar.Collapse>\r\n            </Navbar>\r\n            <Navbar className=\"sub-header\">\r\n            Posts from Reddit <span className=\"name\">'{selectedSubreddit}'</span>\r\n            </Navbar>\r\n            <div>\r\n              <Redirect from=\"/\" to=\"/home\" />\r\n              <Route exact path='/home' render={() => <Data posts={posts}/>}/>\r\n              <Route exact path='/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route exact path='/new' render={() => <Data posts={posts}/>}/>\r\n              <Route exact path='/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/worldnews/best' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/politics/best' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/technology/best' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/movies/best' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/gaming/best' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/worldnews/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/politics/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/technology/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/movies/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/gaming/hot' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/worldnews/new' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/politics/new' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/technology/new' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/movies/new' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/gaming/new' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/worldnews/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/politics/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/technology/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/movies/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/gaming/controversial' render={() => <Data posts={posts}/>}/>\r\n              <Route path='/search' render={() => <Data posts={posts}/>}/>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const { selectedSubreddit, postsBySubreddit } = state;\r\n    if(selectedSubreddit == \"search\"){\r\n      var { isFetching, items: posts } = postsBySubreddit['undefined'] || { isFetching: true, items: [] }\r\n    }\r\n    else{\r\n      var { isFetching, items: posts } = postsBySubreddit[selectedSubreddit] || { isFetching: true, items: [] }\r\n    }\r\n\r\n    return {\r\n        selectedSubreddit,\r\n        posts,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Main)\r\n"]},"metadata":{},"sourceType":"module"}